# Техническое Задание: Рефакторинг Генератора Уровней "Prometheus"

- **Задача:** Обновить генератор уровней "Prometheus" для использования новой стандартизированной системы компонентов ("Конструктор").
- **Цель:** Перейти от генерации уровней со случайными параметрами к созданию предсказуемых и сбалансированных головоломок на основе предопределенного набора "строительных блоков".

### 1. Общая Логика Изменений

Генератор "Prometheus" должен быть модифицирован таким образом, чтобы при создании "оптимального решения" и "набора для игрока" (`player_kit`) он использовал компоненты **только** из стандартизированных наборов, определенных ниже. Это касается как выбора самих компонентов, так и параметров целей.

### 2. Требования к реализации

### **2.1. Обновление логики `Target` (LED)**

Это самое важное изменение. Генератор больше не должен создавать цели со случайными диапазонами.

- **Новая формула `Sweet Spot`:**
    - При генерации уровня, сначала выбирается `LED` с **номинальной энергией** (`Nominal Energy`) из стандартного набора (см. п. 2.2).
    - `Sweet Spot` для этого `LED` затем вычисляется по формуле:
    `Sweet Spot = Nominal Energy ± Tolerance`
- **Универсальный Допуск (Universal Tolerance):**
    - Значение `Tolerance` должно быть жестко задано как **2.0 EU**.
    - *Пример:* Для `LED` с `Nominal Energy` = 20 EU, генератор должен установить в файле уровня `energy_range` равный `[18.0, 22.0]`.

### **2.2. Внедрение Стандартизированных Наборов Компонентов**

Генератор должен быть ограничен использованием только следующих значений при построении схем и наборов для игрока.

- **Набор Целей (LED Series):**
    - **Low Power:** 5 EU, 10 EU, 15 EU
    - **Medium Power:** 20 EU, 25 EU, 30 EU
    - **High Power:** 40 EU, 50 EU
    - **Very High Power:** 75 EU, 100 EU
- **Набор Источников (Voltage Source Series):**
    - Генератор должен выбирать напряжение **только** из этого списка: 5V, 9V, 12V, 24V.
    - Параметр `Energy Output` (EU) остается динамическим и рассчитывается генератором в зависимости от сложности уровня.
- **Набор Резисторов (R-Series):**
    - **Low Value (для тонкой настройки):** 22Ω, 47Ω
    - **Core Set (основной набор):** 100Ω, 220Ω, 470Ω, 1kΩ, 2.2kΩ, 4.7kΩ, 10kΩ.
    - Генератор может комбинировать эти резисторы (последовательно/параллельно) при построении "оптимального решения" для достижения более точных значений.
- **Набор Конденсаторов (C-Series):**
    - Доступные ёмкости: 10µF, 47µF, 100µF, 220µF, 470µF, 1000µF.
- **Набор Индукторов (L-Series):**
    - Доступные индуктивности: 1mH, 5mH, 10mH, 22mH, 50mH, 100mH.

### 3. Ожидаемый Результат

После внедрения этих изменений, все `.json` файлы уровней, сгенерированные "Prometheus", должны:

1. Содержать `energy_range` для целей, рассчитанный по формуле `Номинал ± 2.0 EU`.
2. Использовать в `player_kit` и в скрытом "оптимальном решении" компоненты только из утвержденных стандартных наборов.

Это сделает процесс генерации более контролируемым, а игровой опыт — более предсказуемым и справедливым для игрока.